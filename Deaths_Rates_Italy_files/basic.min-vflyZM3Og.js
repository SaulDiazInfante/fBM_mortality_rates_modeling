define(["require","exports","tslib","external/lodash","modules/clean/react/comments2/data/actions","modules/clean/react/comments2/data/logger","modules/clean/react/comments2/data/types","modules/clean/react/comments2/transforms","modules/clean/react/file_sidebar/store/sidebar/actions","modules/clean/uuid","comments2/components/types"],function(e,o,n,a,t,d,r,i,s,c,l){"use strict";function h(e,o,a,h,u,T,A,v,f){function _(o){e(t.Actions.activateThreadAndMarkAsRead({thread:o}))}function p(){e(t.Actions.deactivateAllThreads())}function C(e){switch(e){case l.CollapsedInteraction.LEAVE_COMMENT_CLICK:d.logEvent("sidebar_collapsed_leave_comment_click",{stream:v});break;case l.CollapsedInteraction.AVATAR_CLICK:d.logEvent("sidebar_collapsed_avatar_click",{stream:v})}o(s.open("toggle_button"))}function I(o){e(t.Actions.markThreadRead({threadId:o,origin:r.MarkThreadReadOrigin.UIButtonClicked}))}function R(o){e(t.Actions.markThreadUnread(o))}function U(o){e(t.Actions.markThreadResolved({threadId:o,resolver:i.dbxUserToIUser(f)}))}function k(o){e(t.Actions.markThreadUnresolved(o))}return f?f.is_email_verified?n.__assign({},m,{onInteractionWhileCollapsed:C,onThreadActivated:_,onAllThreadsDeactivated:p,onMentionsQueryUpdated:h,onThreadMarkedAsRead:I,onThreadMarkedAsUnread:R,onThreadResolved:U,onThreadUnresolved:k,onThreadCreated:function(o,n){e(t.Actions.createThread({annotation:n,author:i.dbxUserToIUser(f),content:o,guid:c.UUID.v4(),source:{".tag":"editor"}})).then(function(){for(var n=0,d=a;n<d.length;n++){var r=d[n];e(t.Actions.markOnboarded(r))}u(o,f)})},onThreadRepliedTo:function(o,n){e(t.Actions.replyToThread({author:i.dbxUserToIUser(f),content:n,threadId:o,guid:c.UUID.v4()})).then(function(){u(n,f)})},onCommentEdited:function(o,n,a){e(t.Actions.editComment({commentId:o,content:n,threadId:a}))},onCommentDeleted:function(o,n){e(t.Actions.deleteComment({commentId:o,threadId:n}))},onClickOlderInfo:function(o,n){d.logEvent("revision_click",{stream:v,threadId:n}),e(t.Actions.openVersionHistory())}}):n.__assign({},m,{onInteractionWhileCollapsed:C,onThreadActivated:_,onAllThreadsDeactivated:p,onThreadMarkedAsRead:I,onThreadMarkedAsUnread:R,onThreadResolved:U,onThreadUnresolved:k,onThreadCreated:function(e,o){A(r.ShowModalReason.OnPost)},onThreadRepliedTo:function(e,o){A(r.ShowModalReason.OnPost)},onEditorFocused:function(){A(r.ShowModalReason.EditorFocus)}}):n.__assign({},m,{onInteractionWhileCollapsed:C,onThreadActivated:_,onAllThreadsDeactivated:p,onThreadCreated:function(e,o){T(r.ShowModalReason.OnPost)},onThreadRepliedTo:function(e,o){T(r.ShowModalReason.OnPost)},onEditorFocused:function(){T(r.ShowModalReason.EditorFocus)}})}Object.defineProperty(o,"__esModule",{value:!0}),a=n.__importStar(a),d=n.__importStar(d),s=n.__importStar(s);var u=a.noop,m={onInteractionWhileCollapsed:u,onThreadActivated:u,onAllThreadsDeactivated:u,onThreadCreated:u,onThreadRepliedTo:u,onThreadMarkedAsRead:u,onThreadMarkedAsUnread:u,onThreadResolved:u,onThreadUnresolved:u,onCommentEdited:u,onCommentDeleted:u,onMentionsQueryUpdated:u,onClickOlderInfo:u,onEditorFocused:u};o.createBasicActionsAdapter=h});
//# sourceMappingURL=basic.min.js-vflOk4AGx.map