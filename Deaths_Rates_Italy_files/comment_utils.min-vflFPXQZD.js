define(["require","exports","tslib","comments2/components/comment_editor/draft_utils"],function(t,e,n,o){"use strict";function c(t,e){void 0===e&&(e=100);var c=t.content.text;if(c.length<=e)return t;for(var a=c.split("\n"),r=a.map(o.decodeUnicode),i=[],s=0,d=0;d<r.length&&s<e;d++){var u=r[d],l=e-s;l<u.length?(i=i.concat([u.slice(0,l)]),s=e):(i=i.concat([u]),s+=u.length)}var m=i.map(o.encodeUnicode).join("\n"),_=t.content.metadata;return n.__assign({},t,{content:{metadata:_.reduce(function(t,o){if("sticker"===o.type)return t.concat([o]);var c=o.location;return c.start<e?t.concat([n.__assign({},o,{location:n.__assign({},c,{end:Math.min(c.end,e)})})]):t},[]),text:m+"â€¦"}})}Object.defineProperty(e,"__esModule",{value:!0}),e.truncateComment=c});
//# sourceMappingURL=comment_utils.min.js-vflTtLgYN.map