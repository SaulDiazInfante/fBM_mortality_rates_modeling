define(["require","exports","tslib","tslib","classnames","react","spectrum/avatar","spectrum/icon_global","spectrum/tertiary_link","retrieval-components/highlighted-truncated-string"],function(e,t,i,n,s,r,a,o,g,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n=i.__importStar(n),s=i.__importDefault(s),r=i.__importStar(r),t.SearchSuggestions=function(e){return r.createElement("ul",{id:e.id,className:s.default("rc-search-suggestions__list",e.className),role:"listbox","aria-label":e.ariaLabel},e.suggestions.map(function(t){return!!t.suggestions.length&&[t.title&&r.createElement(u,{title:t.title,key:t.title}),r.createElement(_,{key:d(t.suggestions)?"suggestions-people":"suggestions-query",suggestions:t.suggestions,highlightedSuggestion:e.highlightedSuggestion,onSuggestionClick:e.onSuggestionClick,onSuggestionHighlight:e.onSuggestionHighlight,width:e.width,showViewProfileButton:e.showViewProfileButton})]}))};var u=function(e){var t=e.title;return r.createElement("li",{className:"rc-search-suggestions__header",role:"option"},r.createElement("h3",null,t))},c=function(e){return"name"in e},h=function(e){return"createViewProfileHandler"in e},d=function(e){return!!e.length&&c(e[0])},m=function(e,t){return!!e&&(c(e)&&c(t)?e.emailAddress===t.emailAddress:!c(e)&&!c(t)&&e.query===t.query)},_=function(e){var t=e.width,i=e.suggestions,n=e.highlightedSuggestion,s=e.onSuggestionClick,a=e.onSuggestionHighlight,o=e.showViewProfileButton;return d(i)?r.createElement(r.Fragment,null,i.map(function(e){return r.createElement(v,{key:e.emailAddress,suggestion:e,isHighlighted:m(n,e),onSuggestionClick:s,onSuggestionHighlight:a,width:t,showViewProfileButton:o})})):r.createElement(r.Fragment,null,i.map(function(e){return r.createElement(S,{key:e.query,suggestion:e,isHighlighted:m(n,e),onSuggestionClick:s,onSuggestionHighlight:a,width:t})}))},p=function(e){var t=e.initials,i=e.avatar;return i?r.createElement(a.Avatar,{size:24,src:i,className:"rc-search-suggestions__row-avatar",alt:t,renderFallback:function(){return r.createElement(a.AvatarInitials,{avatarSize:24,backgroundColor:a.avatarColorForUserIdentifier(t)},t)},"aria-hidden":!0}):r.createElement(a.AvatarInitials,{avatarSize:24,backgroundColor:a.avatarColorForUserIdentifier(t),className:"rc-search-suggestions__row-avatar","aria-hidden":!0},t)};t.generateIdForSuggestion=function(e){return c(e)?"suggestion-people-"+e.emailAddress:"suggestion-query-"+e.query};var f=(function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onSuggestionClick(t.props.suggestion)},t.handleMouseOver=function(){t.props.onSuggestionHighlight(t.props.suggestion)},t.handleMouseOut=function(){t.props.onSuggestionHighlight(void 0)},t}return n.__extends(i,e),i.prototype.render=function(){var e=this.props,i=e.isHighlighted,n=e.children,a=e.className,o=e.suggestion;return r.createElement("li",{className:s.default("rc-search-suggestions__row",a,{"rc-search-suggestions__row--highlighted":i}),role:"option",onClick:this.handleClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,"aria-selected":i,id:t.generateIdForSuggestion(o),"aria-label":o.ariaLabel},n)},i})(r.PureComponent),w={variant:"HIGHLIGHTED_TRUNCATED_STRING_END",fontSize:14},v=function(e){return r.createElement(f,n.__assign({},e,{className:"rc-search-suggestions__row--people"}),r.createElement(p,{initials:e.suggestion.initials,avatar:e.suggestion.avatar}),r.createElement(l.HighlightedTruncatedString,n.__assign({},w,{text:e.suggestion.name,highlightSpans:e.suggestion.nameHighlights,availableWidth:e.width?e.width/2:0})),r.createElement(l.HighlightedTruncatedString,n.__assign({},w,{className:"rc-search-suggestions__subtitle",text:e.suggestion.emailAddress,highlightSpans:e.suggestion.emailAddressHighlights,availableWidth:e.width?e.width/2:0})),e.showViewProfileButton&&h(e.suggestion)&&r.createElement(g.TertiaryLink,{className:"rc-search-suggestions__view-profile",onClick:e.suggestion.createViewProfileHandler(e.suggestion),onKeyDown:e.suggestion.handleViewProfileKeyDown},r.createElement("span",{className:"rc-search-suggestions__view-profile-text"},e.suggestion.viewProfileButtonText)))},S=function(e){return r.createElement(f,n.__assign({},e,{className:"rc-search-suggestions__row--query"}),r.createElement(o.IconGlobal,{name:"search",className:"rc-search-suggestions__row-avatar"}),r.createElement(l.HighlightedTruncatedString,n.__assign({},w,{text:e.suggestion.query,highlightSpans:e.suggestion.highlightSpans,availableWidth:e.width||0})))}});
//# sourceMappingURL=index.min.js-vfl1wi0Rk.map