define(["require","exports","tslib","modules/core/browser","modules/clean/history","modules/clean/react/location/types","modules/core/uri","modules/clean/react/file_transfers/constants"],function(e,r,t,n,o,a,i,u){"use strict";function c(e){return e.replace(/^cap_pid_ft:/,"")}function f(e){return e.indexOf("cap_pid_ft:")===-1?"cap_pid_ft:"+e:e}function d(){return"https://www.dropbox.com/"}function s(e,t){var n="https://www.dropbox.com/"+r.BASE_URL+"/manage";return e&&t?n+"?referrer="+e+"&transfer_id="+c(t):e?n+"?referrer="+e:t?n+"?transfer_id="+c(t):n}function p(e,t){var n="/"+r.BASE_URL+"/"+encodeURIComponent(c(e))+"/edit";return t?n+"?referrer="+t.referrer+"&log_create="+t.logCreateTransferEvent:n}function l(e){var t="https://www.dropbox.com/"+r.BASE_URL;return e?t+"?referrer="+e:t}function _(e){return"https://www.dropbox.com/"+r.BASE_URL+"/"+encodeURIComponent(c(e))}function m(e){return"https://www.dropbox.com/"+r.BASE_URL+"/"+encodeURIComponent(c(e))+"/report_abuse"}function U(){return"/"+r.BASE_URL+"/cfd"}function w(e){return e.replace(new RegExp("^https://www.dropbox.com"),"")}function R(){if(n.get_pathname()===U())return void o.default.replace_state(w(l("desktop")));o.default.replace_state(n.get_pathname())}function g(e){n.get_pathname().endsWith("/edit")||o.default.replace_state(p(e))}function y(e){return I(a.Location.fromURI(i.URI.parse(e)))}function I(e){var r=e.query?e.query.transfer_id:void 0,t=r instanceof Array?r[0]:r;return t?f(t):t}function h(e){var r=e.query?e.query.feedback:void 0;return"true"===(r instanceof Array?r[0]:r)}function v(e){var r=n.get_uri();e?(r=r.updateQuery({transfer_id:c(e)}),o.default.replace_state(r.getPath(),r.getQuery())):(r=r.removeQuery("transfer_id"),o.default.replace_state(r.getPath(),r.getQuery()))}function b(){return A(a.Location.fromURI(i.URI.parse(n.get_uri())))}function A(e){var r=e.query?e.query[u.QUERY_PARAM_RECP_TRACKING]:void 0;return r instanceof Array?r[0]:r}Object.defineProperty(r,"__esModule",{value:!0}),n=t.__importStar(n),o=t.__importDefault(o),r.BASE_URL="transfer",r.dropboxUrl=d,r.listTransfersUrl=s,r.editTransferUrl=p,r.createTransferUrl=l,r.viewTransferUrl=_,r.reportAbuseUrl=m,r.cleanBrowserHrefForEditPage=R,r.addTransferIdToUrl=g,r.getTransferIdFromUrl=y,r.getTransferIdFromLocation=I,r.shouldFeedbackFormBeInitiallyShown=h,r.updateTransferIdInLocation=v,r.getRecipientTrackingIdFromUrl=b,r.getRecipientTrackingIdFromLocation=A});
//# sourceMappingURL=urls.min.js-vflj2mLnt.map